CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

PROJECT(cmake-parse-arguments)

FUNCTION(test_parse_function)
  SET(options OPTIONAL FAST)
  SET(oneValueArgs DESTINATION RENAME)
  SET(multiValueArgs TARGETS CONFIGURATIONS)
  CMAKE_PARSE_ARGUMENTS(MY_INSTALL "${options}" "${oneValueArgs}" "${multiValueArgs}" ${ARGN})
  MESSAGE(STATUS "MY_INSTALL_OPTIONAL = ${MY_INSTALL_OPTIONAL}")
  MESSAGE(STATUS "MY_INSTALL_FAST = ${MY_INSTALL_FAST}")
  MESSAGE(STATUS "MY_INSTALL_DESTINATION = ${MY_INSTALL_DESTINATION}")
  MESSAGE(STATUS "MY_INSTALL_RENAME = ${MY_INSTALL_RENAME}")
  MESSAGE(STATUS "MY_INSTALL_TARGETS = ${MY_INSTALL_TARGETS}")
  MESSAGE(STATUS "MY_INSTALL_CONFIGURATIONS = ${MY_INSTALL_CONFIGURATIONS}")
  MESSAGE(STATUS "MY_INSTALL_UNPARSED_ARGUMENTS = ${MY_INSTALL_UNPARSED_ARGUMENTS}")
  MESSAGE(STATUS "MY_INSTALL_KEYWORDS_MISSING_VALUES = ${MY_INSTALL_KEYWORDS_MISSING_VALUES}")
ENDFUNCTION()

test_parse_function(TARGETS foo bar DESTINATION bin OPTIONAL blub CONFIGURATIONS)

